# DERJI

Утилита для рекурсивного чтения и вывода содержимого файлов из указанной директории с использованием многопоточности.

## Описание

Программа обходит файловую систему начиная с указанной директории, читает содержимое всех файлов (кроме исполняемых и больших файлов) и выводит их содержимое в консоль с указанием пути к файлу.

## Особенности

- **Многопоточная обработка**: Использует количество воркеров равное количеству CPU ядер
- **Фильтрация файлов**: Игнорирует исполняемые файлы и файлы размером больше 1 МБ
- **Исключение .git**: Автоматически пропускает директории `.git`
- **Конкурентная архитектура**: Использует каналы и горутины для эффективной обработки

## Установка

```
go build -o file-reader main.go
```

## Использование

### Базовое использование
```
./file-reader
```

### Указание пути к директории
```
./file-reader -path /path/to/directory
```

## Параметры командной строки

| Параметр | Описание | Значение по умолчанию |
|----------|----------|-----------------------|
| `-path`  | Путь к директории для обработки | `.` (текущая директория) |

## Архитектура

Программа использует следующую архитектуру:

1. **Главная горутина**: Координирует работу всех компонентов
2. **Walker горутина**: Обходит файловую систему и отправляет пути файлов в канал
3. **Worker горутины**: Читают содержимое файлов (количество равно числу CPU ядер)
4. **Coordinator горутина**: Ожидает завершения всех воркеров и закрывает канал результатов

### Схема работы

```
Файловая система → Walker → fileCh → Workers → resultCh → Вывод
```

## Фильтры файлов

Программа обрабатывает только файлы, которые:
- Не являются директориями
- Имеют размер не более 1 МБ
- Не являются исполняемыми файлами
- Не находятся в директории `.git`

## Формат вывода

Для каждого файла выводится:
```
=== /path/to/file ===
[содержимое файла]
```

## Требования

- Go 1.11 или выше
- Операционная система: Linux, macOS, Windows

## Примеры использования

### Чтение файлов в текущей директории
```
./file-reader
```

### Чтение файлов в проекте
```
./file-reader -path ./my-project
```

### Чтение файлов в домашней директории
```
./file-reader -path ~/Documents
```

## Производительность

- Использует все доступные CPU ядра для параллельной обработки
- Буферизованные каналы (размер 100) для оптимизации производительности
- Эффективное чтение файлов через `bufio.Reader`

## Ограничения

- Максимальный размер обрабатываемого файла: 1 МБ
- Исполняемые файлы игнорируются
- Директории `.git` пропускаются автоматически
